* Directory Description

- 'savane/' directory containts all the python(django) code.

- 'media/' all the css and images

- 'template/' all the templates that are necessary to run savane


* Debian Packages

apt-get install mysql-server python-django python-mysqldb 


* Install process

You will need to create the mysql user:

  mysql -e "CREATE DATABASE savane DEFAULT CHARACTER SET utf8;"
  mysql -e "GRANT ALL PRIVILEGES ON savane.* TO 'savane' IDENTIFIED BY 'yourpass';"

Edit the the file savane/settings.py and edit:
DATABASE_USER, DATABASE_PASSWORD, DATABASE_HOST to the proper data
needed to connect to the MySQL database.


* Run for testing:

You can test your install using:
 $ python manage.py runserver


* Run with Apache:

** Dedicated server:

apt-get install libapache2-mod-python

 <Location "/">
    SetHandler python-program
    PythonHandler django.core.handlers.modpython
    SetEnv DJANGO_SETTINGS_MODULE settings
    #PythonOption django.root /myapp
    PythonDebug On
    PythonPath "['/var/www/framework/savane'] + sys.path"
  </Location>
  <Location "/media">
    SetHandler None
  </Location>
  <Location "/css">
    SetHandler None
  </Location>
  <Location "/images">
    SetHandler None
  </Location>
  Alias /media /usr/share/python-support/python-django/django/contrib/admin/media
  #Alias /media /usr/share/pyshared/django/contrib/admin/media
  Alias /css /var/www/framework/media/css
  Alias /images /var/www/framework/media/images

** FCGI + suExec (shared hosting):
http://docs.djangoproject.com/en/dev/howto/deployment/fastcgi/

apt-get install libapache2-mod-fcgid  # _not_ mod-fastcgi which is non-free
apt-get install python-flup

httpd.conf:

  DocumentRoot /var/www/framework/savane
  SuexecUserGroup myuser mygroup
 
  Alias /media /usr/share/python-support/python-django/django/contrib/admin/media
  #Alias /media /usr/share/pyshared/django/contrib/admin/media
  Alias /css /var/www/framework/media/css
  Alias /images /var/www/framework/media/images
 
  <Directory "/var/www/framework/savane">
    RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^(.*)$ savane.fcgi/$1 [qsappend,last]
  </Directory>
 

savane.fcgi:

#!/usr/bin/python
import sys, os
 
# Add a custom Python path.
sys.path.insert(0, "/var/www/framework/savane")
 
# Switch to the directory of your project. (Optional.)
# os.chdir("/home/user/myproject")
 
# Set the DJANGO_SETTINGS_MODULE environment variable.
os.environ['DJANGO_SETTINGS_MODULE'] = "settings"
 
from django.core.servers.fastcgi import runfastcgi
runfastcgi(method="threaded", daemonize="false")
